var driverSalary=()=>{class a{constructor(){this["template-1"]=document.querySelector("app-driver-salary #template-1"),this["template-2"]=document.querySelector("app-driver-salary #template-2"),this.templates=document.querySelectorAll("app-driver-salary [name='templates']"),this["ds-driver-name"]=document.querySelector("app-driver-salary #ds-driver-name"),this["ds-employee-name"]=document.querySelector("app-driver-salary #ds-employee-name"),this["ds-vehical-number"]=document.querySelector("app-driver-salary #ds-vehical-number"),this["ds-salary-amount"]=document.querySelector("app-driver-salary #ds-salary-amount"),this["ds-date"]=document.querySelector("app-driver-salary #ds-date"),this["ds-month"]=document.querySelector("app-driver-salary #ds-month"),this["ds-signature"]=document.querySelector("app-driver-salary #ds-signature"),this["ds-signature-remove"]=document.querySelector("app-driver-salary [aria-label='ds-signature']"),this["download-pdf"]=document.querySelector("app-driver-salary #download-pdf"),this["spinner-grow"]=document.querySelector("app-driver-salary .spinner-grow"),this["download-text"]=document.querySelector("app-driver-salary .download-text"),this["form-control"]=document.querySelectorAll("app-driver-salary .form-control"),this["ds-modal"]=document.querySelector("app-driver-salary #ds-modal"),this["ds-modal-view"]=document.querySelector("app-driver-salary #ds-modal-view")}}let d={},t={},o={},l=new Date,n,s="template-1",i,c="driver-salary-data.js";{var e=(e,r)=>{e&&(document.querySelectorAll("app-driver-salary [data-dynamic]").forEach(e=>{e=e.attributes["data-dynamic"].value;addDynamicHTML(e,dsData[e],!1)}),u(s))},m=document.querySelectorAll("script");let r=!1;m.forEach(e=>{e.src.replace(/^.*[\\\/]/,"")==c&&(r=!0)}),r||((m=document.createElement("script")).src=server.jsPath+"/partialPage/"+c,m.async=!0,m.onload=()=>{e(!0,"Dynamic data loaded")},m.onerror=()=>{e(!1,"Error occurred while loading dynamic data")},document.body.appendChild(m))}var p=()=>{d["form-control"].forEach(r=>{["keyup","change"].forEach(function(e){r.addEventListener(e,function(){document.querySelectorAll("."+r.id).forEach(e=>{e.innerHTML=r.value})})})}),d["ds-signature"].addEventListener("change",e=>{var r,a=d["ds-signature"].files[0];a&&(d["ds-signature-remove"].classList.remove("d-none"),(r=new FileReader).readAsDataURL(a),r.addEventListener("load",r=>{o["ds-signature"].forEach(e=>{this.result?e.src=this.result:e.src=r.srcElement.result,e.classList.remove("d-none")})}))}),d["ds-signature-remove"].addEventListener("click",e=>{d["ds-signature"].files[0]&&(d["ds-signature"].value="",o["ds-signature"].forEach(e=>{e.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}),d["ds-signature-remove"].classList.toggle("d-none"))}),d["ds-modal-view"]&&d["ds-modal-view"].addEventListener("click",e=>{y()}),d["ds-modal"]&&(i=new bootstrap.Modal(d["ds-modal"]),window.addEventListener("click",function(e){"modal-body"==e.target.classList[0]&&i.toggle()})),["touchend","ondblclick"].forEach(r=>{o.templates.forEach(e=>{var a,t;"ondblclick"==r?e.ondblclick=()=>{y(),i.toggle()}:"touchend"==r&&(t=0,e.addEventListener(r,()=>{var e=(new Date).getTime(),r=e-t;clearTimeout(a),r<300&&0<r?(y(),i.toggle(),event.preventDefault()):a=setTimeout(function(){clearTimeout(a)},300),t=e}))})}),d.templates.forEach(r=>r.addEventListener("click",e=>{d.templates.forEach(e=>{e.id!=r.id&&(o[r.id].classList.remove("d-none"),n=o[r.id],o[e.id].classList.add("d-none"))})}))},u=e=>{for(var r in dragScroller("ds-template-wrapper"),o={templates:document.querySelectorAll("app-driver-salary .template-wrapper > .templates"),"modal-body":document.querySelector("app-driver-salary .ds-modal .modal-body")},d=new a)document.querySelector("app-driver-salary p[data-error="+r+"]")&&(t[r]=document.querySelector("app-driver-salary p[data-error="+r+"]")),document.querySelector("[data-tm="+r+"]")&&"template-1"!=r&&"template-2"!=r&&(o[r]=document.querySelectorAll("app-driver-salary  [data-tm="+r+"]")),"template-1"!=r&&"template-2"!=r||(o[r]=document.querySelector("app-driver-salary .template-wrapper > [data-tm="+r+"]"));n=o[e],o.templates.forEach(e=>{e.classList.add("d-none")}),n.classList.remove("d-none"),d[e].checked=!0,d["ds-date"].value=l.toISOString().substring(0,10),o["ds-date"].forEach(e=>{e.innerHTML=l.toISOString().substring(0,10)}),o["ds-month"].forEach(e=>{e.innerHTML=d["ds-month"].options[d["ds-month"].selectedIndex].value}),p()},y=(u(s),e=>{o["modal-body"].innerHTML="";var r=n.cloneNode(!0),d=(o["modal-body"].appendChild(r),document.querySelector(".modal-body .templates"));["touchend","ondblclick"].forEach(e=>{var a,t;"ondblclick"==e?d.ondblclick=()=>{i.toggle()}:"touchend"==e&&(t=0,d.addEventListener(e,()=>{var e=(new Date).getTime(),r=e-t;clearTimeout(a),r<300&&0<r?(i.toggle(),event.preventDefault()):a=setTimeout(function(){clearTimeout(a)},300),t=e}))})});d["download-pdf"].addEventListener("click",()=>{{var e=(e,r)=>{var a;e&&(d["spinner-grow"].style.display="inline-block",d["download-text"].innerHTML="PDF Generating...",e=n.cloneNode(!0),(a=document.createElement("div")).id="pdf-wrapper",a.setAttribute("class","pdf-wrapper"),a.appendChild(e),html2pdf().set({jsPDF:{format:"a4",orientation:"portrait"},html2canvas:{letterRendering:!0,useCORS:!0,logging:!0,scrollX:0,scrollY:0},margin:[10,0,0,0],padding:0,image:{type:"jpeg",quality:1}}).from(a).toPdf().save("Driver Salary Slip by "+server.pdfName).then(e=>{d["spinner-grow"].style.display="none",d["download-text"].innerHTML="Download"}).catch(e=>{console.log("PDF Error "+e)}))};let a=!0,t=document.getElementsByClassName("validation-message");Object.keys(t).some(function(e){var r;if("block"==t[e].style.display)return r="ErrorAdress"==t[e].id?130:80,r=t[e].getBoundingClientRect().top+window.pageYOffset-r,window.scrollTo({top:r,behavior:"smooth"}),a=!1,t[e].previousElementSibling.focus(),!0}),a?e(!0,"Template ready"):e(!1,"Template not ready")}})};