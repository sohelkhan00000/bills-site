let rentReceipt=()=>{class e{constructor(){this["renter-name"]=document.querySelector("app-main-page #renter-name"),this.rent=document.querySelector("app-main-page #rent"),this.address=document.querySelector("app-main-page #address"),this["landlord-name"]=document.querySelector("app-main-page #landlord-name"),this["landlord-pan"]=document.querySelector("app-main-page #landlord-pan"),this["date-from"]=document.querySelector("app-main-page #date-from"),this["date-to"]=document.querySelector("app-main-page #date-to"),this["receipt-month"]=document.querySelectorAll("app-main-page [name='receipt-month']"),this["download-pdf"]=document.querySelector("app-main-page #download-pdf"),this["form-control"]=document.querySelectorAll("app-main-page .form-control"),this["spinner-grow"]=document.querySelector("app-main-page .spinner-grow"),this["download-text"]=document.querySelector("app-main-page .download-text"),this["select-template"]=document.querySelector("app-main-page .select-template")}}let p={},r={},d={},t=new Date;for(var n in d={receipts:document.querySelector("app-main-page #receipts"),"generate-date":document.querySelectorAll("app-main-page .generate-date"),"current-month":document.querySelectorAll("app-main-page .current-month"),"receipt-number":document.querySelectorAll("app-main-page .receipt-number")},p=new e)document.querySelector("app-main-page p[data-error="+n+"]")&&(r[n]=document.querySelector("app-main-page p[data-error="+n+"]")),document.querySelector("app-main-page  [data-tm="+n+"]")&&(d[n]=document.querySelectorAll("app-main-page [data-tm="+n+"]"));p["date-from"].value=t.toISOString().substring(0,10),p["date-to"].value=t.toISOString().substring(0,10),p["form-control"].forEach(function(t){["keyup","change"].forEach(function(e){t.addEventListener(e,function(){document.querySelectorAll("app-main-page ."+t.id).forEach(e=>{e.innerHTML=t.value})})})});var l=e=>{return new Date(e).toLocaleString("default",{month:"long",year:"numeric"})},c=(e,t,n)=>{Date.isLeapYear=function(e){return e%4==0&&e%100!=0||e%400==0},Date.getDaysInMonth=function(e,t){return[31,Date.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},Date.prototype.isLeapYear=function(){return Date.isLeapYear(this.getFullYear())},Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())},Date.prototype.addMonths=function(e){var t=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+e),this.setDate(Math.min(t,this.getDaysInMonth())),this};var e=new Date(e),a=new Date(t),r=[],o=new Date(e).addMonths(n);if(p=new Date(o),o.setDate(o.getDate()-1),a<=p?!(r[0]={start:e,end:a}):(r[0]={start:e,end:o},!0))for(let e=1;r[r.length-1].end<a;e++){var i=new Date(p),o=new Date(p).addMonths(n),p=new Date(o);o.setDate(o.getDate()-1),r[e]=a<=p?{start:i,end:a}:{start:i,end:o}}var d={year:"numeric",month:"short",day:"numeric"};return r.forEach((e,t,n)=>{n[t]={start:e.start.toLocaleDateString("en-US",d),end:e.end.toLocaleDateString("en-US",d)}}),r},s=(e,t,n,a)=>{return"Name"==t?""==e?(a(!1,n+" cannot be  empty!"),!1):35<e.length?(a(!1,n+" cannot be more than 35 characters!"),!1):/\d/g.test(e)?(a(!1,n+" cannot contain numbers and space!"),!1):(a(!0,n+" validated successfull!"),!0):"Empty"==t?""==e?(a(!1,n+" cannot be empty!"),!1):(a(!0,n+" validated successfull!"),!0):void 0},m=()=>{var e=document.createElement("div");e.setAttribute("class","page-add"),e.innerHTML="Generated by https://www.generatereceipt.blogspot.com",d.receipts.appendChild(e)},a=()=>{{var t=(e,t)=>{e&&(p["spinner-grow"].style.display="inline-block",p["download-text"].innerHTML="PDF Generating...",e=document.querySelector("app-main-page #receipts"),html2pdf().set({jsPDF:{format:"a4",orientation:"portrait"},html2canvas:{letterRendering:!0,useCORS:!0,logging:!0,scrollX:0,scrollY:0},margin:[0,-3.5,0,0],padding:0,image:{type:"jpeg",quality:.98}}).from(e).toPdf().save("Rent receipt by "+server.serverPath).then(e=>{p["spinner-grow"].style.display="none",p["download-text"].innerHTML="Download";for(var t=document.querySelector("app-main-page .invoice");1<t.length;)t[1].parentNode.removeChild(t[1]);for(var n=document.querySelector("app-main-page .html2pdf__page-break");0<n.length;)n[0].parentNode.removeChild(n[0]);for(var a=document.querySelector("app-main-page .page-add");0<a.length;)a[0].parentNode.removeChild(a[0])}).catch(e=>{console.log("PDF Error "+e)}))};let n=!0,a=(s(p["renter-name"].value,"Name","Name",function(e,t){e?r["renter-name"].style.display="none":(r["renter-name"].innerHTML=t,r["renter-name"].style.display="block")}),s(p.rent.value,"Empty","Rent",function(e,t){e?r.rent.style.display="none":(r.rent.innerHTML=t,r.rent.style.display="block")}),s(p.address.value,"Empty","Address",function(e,t){e?r.address.style.display="none":(r.address.innerHTML=t,r.address.style.display="block")}),s(p["landlord-name"].value,"Name","Owner's name",function(e,t){e?r["landlord-name"].style.display="none":(r["landlord-name"].innerHTML=t,r["landlord-name"].style.display="block")}),document.querySelectorAll("app-main-page  .validation-message"));if(Object.keys(a).some(function(e){var t;if("block"==a[e].style.display)return t="pdfAddressError"==a[e].id?130:80,t=a[e].getBoundingClientRect().top+window.pageYOffset-t,window.scrollTo({top:t,behavior:"smooth"}),a[e].previousElementSibling.focus(),!(n=!1)}),n){var o=p["date-from"].value,i=p["date-to"].value;let e=1;document.querySelector("app-main-page  #monthly").checked||(e=3);o=c(o,i,e);let r=(new Date).toString();r=r.slice(4,15),o.forEach((e,t,n)=>{var a;1==n.length||0==t?(d["date-from"][0].innerHTML=e.start.toUpperCase(),d["date-to"][0].innerHTML=e.end.toUpperCase(),d["current-month"][0].innerHTML=l(e.start),d["receipt-number"][0].innerHTML="1",d["generate-date"][0].innerHTML=l(r)):((a=document.querySelector("app-main-page #invoice1").cloneNode(!0)).id="invoice"+(t+1),d.receipts.appendChild(a),document.querySelector("app-main-page #invoice"+(t+1)+" [data-tm='date-from']").innerHTML=e.start.toUpperCase(),document.querySelector("app-main-page #invoice"+(t+1)+" [data-tm='date-to']").innerHTML=e.end.toUpperCase(),document.querySelector("app-main-page #invoice"+(t+1)+"  .current-month").innerHTML=l(e.start),document.querySelector("app-main-page #invoice"+(t+1)+"  .receipt-number").innerHTML=t+1,document.querySelector("app-main-page #invoice"+(t+1)+"  .generate-date").innerHTML=l(r),(t+1)%3==0&&0!=t&&(m(),(a=document.createElement("div")).setAttribute("class","html2pdf__page-break"),d.receipts.appendChild(a))),(t+1)%3!=0&&t+1==n.length&&m()}),t(!0,"validation done.")}else t(!1,"validation not done.")}};p["download-pdf"].addEventListener("click",()=>{a()})};