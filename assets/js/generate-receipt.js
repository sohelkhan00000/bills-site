let rentReceipt=()=>{class e{constructor(){this["renter-name"]=document.querySelector("app-receipt-one #renter-name"),this.rent=document.querySelector("app-receipt-one #rent"),this.address=document.querySelector("app-receipt-one #address"),this["landlord-name"]=document.querySelector("app-receipt-one #landlord-name"),this["landlord-pan"]=document.querySelector("app-receipt-one #landlord-pan"),this["date-from"]=document.querySelector("app-receipt-one #date-from"),this["date-to"]=document.querySelector("app-receipt-one #date-to"),this["receipt-month"]=document.querySelectorAll("app-receipt-one [name='receipt-month']"),this["download-pdf"]=document.querySelector("app-receipt-one #download-pdf"),this["form-control"]=document.querySelectorAll("app-receipt-one .form-control"),this["spinner-grow"]=document.querySelector("app-receipt-one .spinner-grow"),this["download-text"]=document.querySelector("app-receipt-one .download-text"),this["select-template"]=document.querySelector("app-receipt-one .select-template")}}let i={},o={},p={},t=new Date;for(var n in p={receipts:document.querySelector("app-receipt-one #receipts"),"generate-date":document.querySelectorAll("app-receipt-one .generate-date"),"current-month":document.querySelectorAll("app-receipt-one .current-month"),"receipt-number":document.querySelectorAll("app-receipt-one .receipt-number")},i=new e)document.querySelector("app-receipt-one p[data-error="+n+"]")&&(o[n]=document.querySelector("app-receipt-one p[data-error="+n+"]")),document.querySelector("app-receipt-one  [data-tm="+n+"]")&&(p[n]=document.querySelectorAll("app-receipt-one [data-tm="+n+"]"));i["date-from"].value=t.toISOString().substring(0,10),i["date-to"].value=t.toISOString().substring(0,10),i["form-control"].forEach(function(t){["keyup","change"].forEach(function(e){t.addEventListener(e,function(){document.querySelectorAll("app-receipt-one ."+t.id).forEach(e=>{e.innerHTML=t.value})})})});var d=e=>{return new Date(e).toLocaleString("default",{month:"long",year:"numeric"})},l=(e,t,n)=>{Date.isLeapYear=function(e){return e%4==0&&e%100!=0||e%400==0},Date.getDaysInMonth=function(e,t){return[31,Date.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},Date.prototype.isLeapYear=function(){return Date.isLeapYear(this.getFullYear())},Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())},Date.prototype.addMonths=function(e){var t=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+e),this.setDate(Math.min(t,this.getDaysInMonth())),this};var e=new Date(e),r=new Date(t),o=[],a=new Date(e).addMonths(n);if(i=new Date(a),a.setDate(a.getDate()-1),r<=i?!(o[0]={start:e,end:r}):(o[0]={start:e,end:a},!0))for(let e=1;o[o.length-1].end<r;e++){var c=new Date(i),a=new Date(i).addMonths(n),i=new Date(a);a.setDate(a.getDate()-1),o[e]=r<=i?{start:c,end:r}:{start:c,end:a}}var p={year:"numeric",month:"short",day:"numeric"};return o.forEach((e,t,n)=>{n[t]={start:e.start.toLocaleDateString("en-US",p),end:e.end.toLocaleDateString("en-US",p)}}),o},s=(e,t,n,r)=>{return"Name"==t?""==e?(r(!1,n+" cannot be  empty!"),!1):35<e.length?(r(!1,n+" cannot be more than 35 characters!"),!1):/\d/g.test(e)?(r(!1,n+" cannot contain numbers and space!"),!1):(r(!0,n+" validated successfull!"),!0):"Empty"==t?""==e?(r(!1,n+" cannot be empty!"),!1):(r(!0,n+" validated successfull!"),!0):void 0},u=()=>{var e=document.createElement("div");e.setAttribute("class","page-add"),e.innerHTML="",p.receipts.appendChild(e)},r=()=>{{var t=(e,t)=>{e&&(i["spinner-grow"].style.display="inline-block",i["download-text"].innerHTML="PDF Generating...",e=document.querySelector("app-receipt-one #receipts"),html2pdf().set({jsPDF:{format:"a4",orientation:"portrait"},html2canvas:{letterRendering:!0,useCORS:!0,logging:!0,scrollX:0,scrollY:0},margin:[0,-3.5,0,0],padding:0,image:{type:"jpeg",quality:.98}}).from(e).toPdf().save("Rent Receipt "+server.pdfName).then(e=>{i["spinner-grow"].style.display="none",i["download-text"].innerHTML="Download";for(var t=document.querySelector("app-receipt-one .invoice");1<t.length;)t[1].parentNode.removeChild(t[1]);for(var n=document.querySelector("app-receipt-one .html2pdf__page-break");0<n.length;)n[0].parentNode.removeChild(n[0]);for(var r=document.querySelector("app-receipt-one .page-add");0<r.length;)r[0].parentNode.removeChild(r[0])}).catch(e=>{console.log("PDF Error "+e)}))};let n=!0,r=(s(i["renter-name"].value,"Name","Name",function(e,t){e?o["renter-name"].style.display="none":(o["renter-name"].innerHTML=t,o["renter-name"].style.display="block")}),s(i.rent.value,"Empty","Rent",function(e,t){e?o.rent.style.display="none":(o.rent.innerHTML=t,o.rent.style.display="block")}),s(i.address.value,"Empty","Address",function(e,t){e?o.address.style.display="none":(o.address.innerHTML=t,o.address.style.display="block")}),s(i["landlord-name"].value,"Name","Owner's name",function(e,t){e?o["landlord-name"].style.display="none":(o["landlord-name"].innerHTML=t,o["landlord-name"].style.display="block")}),document.querySelectorAll("app-receipt-one  .validation-message"));if(Object.keys(r).some(function(e){var t;if("block"==r[e].style.display)return t="pdfAddressError"==r[e].id?130:80,t=r[e].getBoundingClientRect().top+window.pageYOffset-t,window.scrollTo({top:t,behavior:"smooth"}),r[e].previousElementSibling.focus(),!(n=!1)}),n){var a=i["date-from"].value,c=i["date-to"].value;let e=1;document.querySelector("app-receipt-one  #monthly").checked||(e=3);a=l(a,c,e);let o=(new Date).toString();o=o.slice(4,15),a.forEach((e,t,n)=>{var r;1==n.length||0==t?(p["date-from"][0].innerHTML=e.start.toUpperCase(),p["date-to"][0].innerHTML=e.end.toUpperCase(),p["current-month"][0].innerHTML=d(e.start),p["receipt-number"][0].innerHTML="1",p["generate-date"][0].innerHTML=d(o)):((r=document.querySelector("app-receipt-one #invoice1").cloneNode(!0)).id="invoice"+(t+1),p.receipts.appendChild(r),document.querySelector("app-receipt-one #invoice"+(t+1)+" [data-tm='date-from']").innerHTML=e.start.toUpperCase(),document.querySelector("app-receipt-one #invoice"+(t+1)+" [data-tm='date-to']").innerHTML=e.end.toUpperCase(),document.querySelector("app-receipt-one #invoice"+(t+1)+"  .current-month").innerHTML=d(e.start),document.querySelector("app-receipt-one #invoice"+(t+1)+"  .receipt-number").innerHTML=t+1,document.querySelector("app-receipt-one #invoice"+(t+1)+"  .generate-date").innerHTML=d(o),(t+1)%3==0&&0!=t&&(u(),(r=document.createElement("div")).setAttribute("class","html2pdf__page-break"),p.receipts.appendChild(r))),(t+1)%3!=0&&t+1==n.length&&u()}),t(!0,"validation done.")}else t(!1,"validation not done.")}};i["download-pdf"].addEventListener("click",()=>{r()})};